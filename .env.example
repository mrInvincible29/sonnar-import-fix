# Sonarr Import Monitor Environment Configuration
# Copy this file to .env and update with your actual values

# ===================================
# SONARR CONNECTION (REQUIRED)
# ===================================

# Your Sonarr instance URL (without trailing slash)
# Examples:
#   Local: http://localhost:8989
#   Docker: http://sonarr:8989  (if using same Docker network)
#   Remote: http://192.168.1.100:8989
SONARR_URL=http://your-sonarr-host:8989

# Your Sonarr API key (found in Sonarr Settings â†’ General)
# Must be exactly 32 characters
SONARR_API_KEY=your-32-character-api-key-here-123456

# API request timeout in seconds
SONARR_TIMEOUT=30

# ===================================
# WEBHOOK SERVER (RECOMMENDED)
# ===================================

# Enable webhook server for real-time processing
WEBHOOK_ENABLED=true

# Port for webhook server to listen on
WEBHOOK_PORT=8090

# Host to bind to (0.0.0.0 for all interfaces)
WEBHOOK_HOST=0.0.0.0

# Webhook secret for authentication
# Generate with: openssl rand -hex 32
# Configure this same value in Sonarr webhook settings
WEBHOOK_SECRET=generate-a-secure-32-character-secret-here

# Delay before checking if grabbed item imported (seconds)
WEBHOOK_IMPORT_CHECK_DELAY=600

# ===================================
# MONITORING BEHAVIOR
# ===================================

# How often to check queue when not using webhooks (seconds)
MONITORING_INTERVAL=60

# Minimum score difference to trigger force import
# Higher = less aggressive, Lower = more aggressive
FORCE_IMPORT_THRESHOLD=10

# Maximum items to process per cycle (prevents overload)
MAX_PROCESSING_BATCH=10

# Enable detection of repeated grabs for same episode
DETECT_REPEATED_GRABS=true

# ===================================
# TRACKER CONFIGURATION
# ===================================

# Private trackers (comma-separated, protected from removal)
# These downloads will never be removed to protect your ratio
PRIVATE_TRACKERS="beyondhd,bhd,privatehd,passthepopcorn,torrentleech"

# Public trackers (comma-separated, safe to remove)
# Failed downloads from these can be safely removed
PUBLIC_TRACKERS="nyaa,animetosho,rarbg,1337x,eztv"

# ===================================
# LOGGING & DEBUGGING
# ===================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log format: text or json
LOG_FORMAT=text

# Enable verbose output
VERBOSE=false

# ===================================
# SAFETY & TESTING
# ===================================

# Dry run mode - show what would be done without making changes
# Set to true for testing, false for production
DRY_RUN=false

# Enable test mode for debugging specific episodes
TEST_MODE=false

# ===================================
# PERFORMANCE TUNING
# ===================================

# Cache TTL for queue data (seconds)
CACHE_QUEUE_TTL=60

# Cache TTL for custom format data (seconds)  
CACHE_FORMATS_TTL=300

# Maximum number of HTTP connections to reuse
HTTP_POOL_MAXSIZE=10

# HTTP connection pool timeout
HTTP_POOL_TIMEOUT=5

# ===================================
# DOCKER-SPECIFIC SETTINGS
# ===================================

# Set container timezone
TZ=America/New_York

# User ID for file permissions (when mounting volumes)
PUID=1000

# Group ID for file permissions (when mounting volumes)  
PGID=1000

# ===================================
# ADVANCED CONFIGURATION
# ===================================

# Custom configuration file path (optional)
# If specified, will load additional config from this YAML file
CONFIG_FILE=/app/config/config.yaml

# Enable Prometheus metrics export
METRICS_ENABLED=false

# Metrics export port
METRICS_PORT=9090

# Health check endpoint port
HEALTH_PORT=8090

# ===================================
# SECURITY NOTES
# ===================================

# NEVER commit your actual .env file to version control!
# Add .env to your .gitignore file
# 
# Rotate your WEBHOOK_SECRET periodically for security
# 
# Use strong, unique values for all secrets
# 
# Limit access to this file (chmod 600 .env)